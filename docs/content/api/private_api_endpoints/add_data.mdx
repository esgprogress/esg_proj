
# Add Data

---

<span className="inline-flex items-center gap-2">
  <span
      className="px-3 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300">
    POST
  </span>
  <span className="text-sm font-mono text-gray-600 dark:text-gray-400">
    /api/companies
  </span>
</span>


----

## Summary

Adds a given PDF's data into the database using GenAI and Docling.
Subject to Google Gemini rate limits.

---

## Description

The **Add Data** API adds a company report into the database.

Key characteristics of this endpoint:

- Private access only.
- One query parameter, MultiForm Part request body
- Database identifiers (`_id`) are excluded from responses
- Empty results are treated as a valid, non-error response
- Clear separation between database errors and unexpected server failures

---

## Endpoint

```http
POST /api/addData
```

-----

### Request
This endpoint accepts one parameter.


#### Parameters
| Parameters     | Required    | Type     | Description                                         |
|----------------|-------------|----------|-----------------------------------------------------|
| `company_name` | `mandatory` | `string` | The company's name, if it exists. Else, `undefined` |

#### Headers
This endpoint accepts a singular **optional** header.

| Header   | Required   | Description                    |
|----------|------------|--------------------------------|
| `Accept` | `optional` | Defaults to `application/json` |

----

### Response Schema

#### Success - `200 OK`

##### Example Response

```json lines
[]
```

### Error Codes & Response Types

#### ```503 Service Unavailable```
Returned when the database is temporarily unavailable, a query fails due to a database issue, or Gemini is overloaded.

##### Response Body

``` json lines
{
    "detail" : "Database temporarily unavailable"
}
```

##### Typical Causes
1. MongoDB Connection Issues
2. Database timeout or query failure for a non-general reason

------

#### `500 Internal Server Error`

Returned when an unexpected server-side error occurs.

##### Response Body

```json lines
{
    "detail" : "Internal server error"
}
```

##### Typical Causes
1. Unhandled runtime exception
2. Application-level failure outside database operations.

-----

### Implementation Notes
1. Logs both database-specific and unexpected errors for observability
2. Treats empty datasets as a valid state, not an error condition

